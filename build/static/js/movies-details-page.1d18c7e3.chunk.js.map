{"version":3,"sources":["components/MovieInfo/MovieInfo.module.css","components/MovieInfo/MovieInfo.js","pages/MovieDetailsPage.js"],"names":["module","exports","MovieInfo","movieInfo","url","useRouteMatch","history","useHistory","className","s","button","type","onClick","pathName","location","pathname","includes","go","goBack","mainWrapper","poster","src","poster_path","defaultPoster","loading","alt","title","mainInfo","genres","map","name","join","rating","vote_average","overview","addWrapper","addInfo","addLinks","addItem","to","Cast","lazy","Reviews","MovieDetailsView","useState","movieDetails","setMovieDetails","movieId","useParams","path","useEffect","getMovieDetails","then","PageHeading","text","fallback","Loader"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,OAAS,0BAA0B,YAAc,+BAA+B,OAAS,0BAA0B,SAAW,4BAA4B,MAAQ,yBAAyB,OAAS,0BAA0B,OAAS,0BAA0B,SAAW,4BAA4B,WAAa,8BAA8B,QAAU,2BAA2B,SAAW,4BAA4B,QAAU,6B,wKCQ5a,SAASC,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UAC1BC,EAAQC,cAARD,IACFE,EAAUC,cAahB,OACE,qCACE,wBACEC,UAAWC,IAAEC,OACbC,KAAK,SACLC,QAhBW,WACf,IAAMC,EAAWP,EAAQQ,SAASC,UAEhCF,EAASG,SAAS,SAClBH,EAASG,SAAS,aAElBV,EAAQW,IAAI,GAEdX,EAAQY,UAKN,4BAOCf,GACC,sBAAKK,UAAWC,IAAEU,YAAlB,UACE,qBACEX,UAAWC,IAAEW,OACbC,IACElB,EAAUmB,YAAV,0CACuCnB,EAAUmB,aAC7CC,IAENC,QAAQ,OACRC,IAAKtB,EAAUuB,QAEjB,sBAAKlB,UAAWC,IAAEkB,SAAlB,UACE,oBAAInB,UAAWC,IAAEiB,MAAjB,SAAyBvB,EAAUuB,QACnC,oBAAGlB,UAAWC,IAAEmB,OAAhB,oBACU,IACPzB,EAAUyB,OACRC,KAAI,qBAAGC,QACPC,KAAK,SAEV,oBAAGvB,UAAWC,IAAEuB,OAAhB,2BACiB7B,EAAU8B,gBAE3B,mBAAGzB,UAAWC,IAAEyB,SAAhB,SACG/B,EAAU+B,iBAKnB,sBAAK1B,UAAWC,IAAE0B,WAAlB,UACE,oBAAI3B,UAAWC,IAAE2B,QAAjB,qCAGA,qBAAI5B,UAAWC,IAAE4B,SAAjB,UACE,oBAAI7B,UAAWC,IAAE6B,QAAjB,SACE,cAAC,IAAD,CAAMC,GAAE,UAAKnC,EAAL,SAAR,SACE,0CAGJ,oBAAII,UAAWC,IAAE6B,QAAjB,SACE,cAAC,IAAD,CAAMC,GAAE,UAAKnC,EAAL,YAAR,SACE,sDC7Dd,IAAMoC,EAAOC,gBAAK,kBAChB,gCAKIC,EAAUD,gBAAK,kBACnB,gCAMa,SAASE,IACtB,MAAwCC,mBAAS,MAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACQC,EAAYC,cAAZD,QACAE,EAAS5C,cAAT4C,KAMR,OAJAC,qBAAU,WACRC,YAAgBJ,GAASK,KAAKN,KAC7B,CAACC,IAGF,qCACGF,GACC,cAACQ,EAAA,EAAD,CAAaC,KAAM,kBAGrB,cAAC,IAAD,CAAOL,KAAI,UAAKA,GAAhB,SACE,cAAC/C,EAAD,CAAWC,UAAW0C,MAGxB,eAAC,WAAD,CAAUU,SAAU,cAACC,EAAA,EAAD,IAApB,UACE,cAAC,IAAD,CAAOP,KAAI,UAAKA,EAAL,SAAX,SACE,cAACT,EAAD,CAAMO,QAASA,MAGjB,cAAC,IAAD,CAAOE,KAAI,UAAKA,EAAL,YAAX,SACE,cAACP,EAAD,CAASK,QAASA","file":"static/js/movies-details-page.1d18c7e3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"MovieInfo_button__2tpb_\",\"mainWrapper\":\"MovieInfo_mainWrapper__3Ff1y\",\"poster\":\"MovieInfo_poster__1uKzk\",\"mainInfo\":\"MovieInfo_mainInfo__1GEa5\",\"title\":\"MovieInfo_title__1A4FO\",\"genres\":\"MovieInfo_genres__1HkDh\",\"rating\":\"MovieInfo_rating__1Q6qE\",\"overview\":\"MovieInfo_overview__3mUkL\",\"addWrapper\":\"MovieInfo_addWrapper__19gDj\",\"addInfo\":\"MovieInfo_addInfo__1wEi6\",\"addLinks\":\"MovieInfo_addLinks__3eF71\",\"addItem\":\"MovieInfo_addItem__ulqbt\"};","import {\r\n  Link,\r\n  useRouteMatch,\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport defaultPoster from '../../defaultImages/defaultPoster.jpg';\r\n\r\nimport s from './MovieInfo.module.css';\r\n\r\nexport default function MovieInfo({ movieInfo }) {\r\n  const { url } = useRouteMatch();\r\n  const history = useHistory();\r\n\r\n  const onGoBack = () => {\r\n    const pathName = history.location.pathname;\r\n    if (\r\n      pathName.includes('cast') ||\r\n      pathName.includes('reviews')\r\n    ) {\r\n      history.go(-1);\r\n    }\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className={s.button}\r\n        type=\"button\"\r\n        onClick={onGoBack}\r\n      >\r\n        &#8678; Go back\r\n      </button>\r\n      {movieInfo && (\r\n        <div className={s.mainWrapper}>\r\n          <img\r\n            className={s.poster}\r\n            src={\r\n              movieInfo.poster_path\r\n                ? `https://image.tmdb.org/t/p/w500/${movieInfo.poster_path}`\r\n                : defaultPoster\r\n            }\r\n            loading=\"lazy\"\r\n            alt={movieInfo.title}\r\n          />\r\n          <div className={s.mainInfo}>\r\n            <h2 className={s.title}>{movieInfo.title}</h2>\r\n            <p className={s.genres}>\r\n              Genres:{' '}\r\n              {movieInfo.genres\r\n                .map(({ name }) => name)\r\n                .join(', ')}\r\n            </p>\r\n            <p className={s.rating}>\r\n              Movie rating: {movieInfo.vote_average}\r\n            </p>\r\n            <p className={s.overview}>\r\n              {movieInfo.overview}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className={s.addWrapper}>\r\n        <h3 className={s.addInfo}>\r\n          Additional information:\r\n        </h3>\r\n        <ul className={s.addLinks}>\r\n          <li className={s.addItem}>\r\n            <Link to={`${url}/cast`}>\r\n              <h4>Cast</h4>\r\n            </Link>\r\n          </li>\r\n          <li className={s.addItem}>\r\n            <Link to={`${url}/reviews`}>\r\n              <h4>Reviews</h4>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useState, lazy, Suspense } from 'react';\r\nimport {\r\n  Route,\r\n  useParams,\r\n  useRouteMatch,\r\n} from 'react-router-dom';\r\n\r\nimport Loader from '../components/Loader';\r\nimport { getMovieDetails } from '../apiServises/MoviedbAPI';\r\n\r\nimport PageHeading from '../components/PageHeading';\r\nimport MovieInfo from '../components/MovieInfo';\r\n\r\nconst Cast = lazy(() =>\r\n  import(\r\n    '../components/Cast'\r\n    /* webpackChunkName: \"cast\" */\r\n  ),\r\n);\r\nconst Reviews = lazy(() =>\r\n  import(\r\n    '../components/Reviews'\r\n    /* webpackChunkName: \"reviews\" */\r\n  ),\r\n);\r\n\r\nexport default function MovieDetailsView() {\r\n  const [movieDetails, setMovieDetails] = useState(null);\r\n  const { movieId } = useParams();\r\n  const { path } = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    getMovieDetails(movieId).then(setMovieDetails);\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {movieDetails && (\r\n        <PageHeading text={'Movie details'} />\r\n      )}\r\n\r\n      <Route path={`${path}`}>\r\n        <MovieInfo movieInfo={movieDetails} />\r\n      </Route>\r\n\r\n      <Suspense fallback={<Loader />}>\r\n        <Route path={`${path}/cast`}>\r\n          <Cast movieId={movieId} />\r\n        </Route>\r\n\r\n        <Route path={`${path}/reviews`}>\r\n          <Reviews movieId={movieId} />\r\n        </Route>\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}