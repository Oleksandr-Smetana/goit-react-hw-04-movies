(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{58:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,c=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(i){c=!0,o=i}finally{try{r||null==a.return||a.return()}finally{if(c)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return c}))},59:function(t,e,n){"use strict";n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return f}));var r="https://api.themoviedb.org/3/",c="41a215d12341665c3bdfd42bbc3f5d68";function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(t).then((function(t){return t.ok?t.json():Promise.reject(new Error("No movies found."))}))}function u(){return o("".concat(r,"trending/movie/week?api_key=").concat(c))}function a(t){return o("".concat(r,"search/movie?api_key=").concat(c,"&query=").concat(t))}function i(t){return o("".concat(r,"movie/").concat(t,"?api_key=").concat(c))}function s(t){return o("".concat(r,"movie/").concat(t,"/credits?api_key=").concat(c))}function f(t){return o("".concat(r,"movie/").concat(t,"/reviews?api_key=").concat(c))}},60:function(t,e,n){t.exports={heading:"PageHeading_heading__3eyqI"}},62:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(60),c=n.n(r),o=n(1);function u(t){var e=t.text;return Object(o.jsx)("h1",{className:c.a.heading,children:e})}},63:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return o}))},66:function(t,e,n){t.exports={formWrapper:"InputForm_formWrapper__3kAb0",form:"InputForm_form__24J1U",input:"InputForm_input__1Yiun",button:"InputForm_button__sJyhI"}},74:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));var r=n(63),c=n(58),o=n(0),u=n(3),a=n(15),i=n(59),s=n(62),f=n(17),b=n(66),l=n.n(b),p=n(1);function j(t){var e=t.onSubmit,n=Object(o.useState)(""),a=Object(c.a)(n,2),i=a[0],s=a[1],b=Object(u.g)(),j=Object(u.f)();return Object(p.jsx)("div",{className:l.a.formWrapper,children:Object(p.jsxs)("form",{className:l.a.form,onSubmit:function(t){if(t.preventDefault(),""===i.trim())return f.b.warn("Please type at least one character!");e(i),s(""),j.push(Object(r.a)(Object(r.a)({},b),{},{search:"query=".concat(i)}))},children:[Object(p.jsx)("input",{className:l.a.input,value:i,onChange:function(t){s(t.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(p.jsx)("button",{className:l.a.button,type:"submit",children:Object(p.jsx)("span",{children:"Search"})})]})})}var h=Object(o.lazy)((function(){return n.e(4).then(n.bind(null,65))}));function m(){var t,e=Object(o.useState)(null),n=Object(c.a)(e,2),f=n[0],b=n[1],l=Object(u.i)().url,m=Object(u.g)(),y=Object(u.f)(),O=null!==(t=new URLSearchParams(m.search).get("query"))&&void 0!==t?t:"";Object(o.useEffect)((function(){O&&Object(i.d)(O).then((function(t){b(t.results),0===t.results.length&&y.push(Object(r.a)(Object(r.a)({},m),{},{search:""}))}))}),[y,m,O]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(s.a,{text:f?0!==f.length?'Results by query: "'.concat(O,'"'):"There are no results for your query.":"Please enter your query."}),Object(p.jsx)(j,{onSubmit:function(t){t&&y.push(Object(r.a)(Object(r.a)({},m),{},{search:"query=".concat(t)}))}}),f&&0!==f.length&&Object(p.jsx)(o.Suspense,{fallback:Object(p.jsx)(a.a,{}),children:Object(p.jsx)(h,{movies:f,url:l,location:m})})]})}}}]);
//# sourceMappingURL=movies-page.160c2588.chunk.js.map