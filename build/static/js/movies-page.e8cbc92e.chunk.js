(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{64:function(e,t,r){e.exports={formWrapper:"InputForm_formWrapper__3kAb0",form:"InputForm_form__24J1U",input:"InputForm_input__1Yiun",button:"InputForm_button__sJyhI"}},69:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r(17),c=r(0),o=r(3),u=r(12),a=r(19),s=r(18),i=r(20);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=r(64),p=r.n(f),O=r(1);function m(e){var t=e.onSubmit,r=Object(c.useState)(""),u=Object(n.a)(r,2),s=u[0],i=u[1],b=Object(o.g)(),j=Object(o.f)();return Object(O.jsx)("div",{className:p.a.formWrapper,children:Object(O.jsxs)("form",{className:p.a.form,onSubmit:function(e){if(e.preventDefault(),""===s.trim())return a.b.warn("Please enter your query!");t(s),i(""),j.push(l(l({},b),{},{search:"query=".concat(s)}))},children:[Object(O.jsx)("input",{className:p.a.input,value:s,onChange:function(e){i(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(O.jsx)("button",{className:p.a.button,type:"submit",children:Object(O.jsx)("span",{children:"Search"})})]})})}var h=Object(c.lazy)((function(){return Promise.resolve().then(r.bind(null,30))}));function y(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),r=t[0],b=t[1],j=Object(c.useState)(null),l=Object(n.a)(j,2),f=l[0],p=l[1],y=Object(o.g)();Object(c.useEffect)((function(){var e=new URLSearchParams(y.search).get("query");null!==e&&b(e)}),[y]),Object(c.useEffect)((function(){r&&Object(s.d)(r).then((function(e){0!==e.results.length?p(e.results):a.b.error('No movies with query: "'.concat(r,'".'))}))}),[r]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.a,{text:r?'Results by query: "'.concat(r,'"'):"Please enter your query"}),Object(O.jsx)(m,{onSubmit:function(e){b(e)}}),f&&0!==f.length?Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(u.a,{}),children:Object(O.jsx)(h,{movies:f})}):Object(O.jsx)("p",{})]})}}}]);
//# sourceMappingURL=movies-page.e8cbc92e.chunk.js.map